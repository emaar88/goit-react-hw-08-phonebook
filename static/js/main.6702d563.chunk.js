(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[3],{10:function(e,t,n){"use strict";var a=n(2),r=Object(a.b)("contacts/addRequest"),c=Object(a.b)("contacts/addSuccess"),o=Object(a.b)("contacts/addError"),u=Object(a.b)("contacts/fetchRequest"),i=Object(a.b)("contacts/fetchSuccess"),s=Object(a.b)("contacts/fetchError"),l=Object(a.b)("contacts/removeRequest"),b=Object(a.b)("contacts/removeSuccess"),d=Object(a.b)("contacts/removeError"),f=Object(a.b)("contacts/onRename");t.a={addContactRequest:r,addContactSuccess:c,addContactError:o,fetchContactsRequest:u,fetchContactsSuccess:i,fetchContactsError:s,deleteContactRequest:l,deleteContactSuccess:b,deleteContactError:d,onRename:f}},23:function(e,t,n){"use strict";var a,r,c,o=n(3),u=n(6),i=n(2),s=n(4),l={name:null,email:null},b=Object(i.c)(l,(a={},Object(o.a)(a,s.a.registerSuccess,(function(e,t){return t.payload.user})),Object(o.a)(a,s.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(a,s.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(o.a)(a,s.a.logoutSuccess,(function(){return l})),a)),d=Object(i.c)(null,(r={},Object(o.a)(r,s.a.registerSuccess,(function(e,t){return t.payload.token})),Object(o.a)(r,s.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(r,s.a.logoutSuccess,(function(){return null})),r)),f=Object(i.c)(null,(c={},Object(o.a)(c,s.a.registerError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.loginError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.logoutError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.getCurrentUserError,(function(e,t){return t.payload})),c));t.a=Object(u.c)({user:b,token:d,error:f})},4:function(e,t,n){"use strict";var a=n(2),r=Object(a.b)("auth/registerRequest"),c=Object(a.b)("auth/registerSuccess"),o=Object(a.b)("auth/registerError"),u=Object(a.b)("auth/loginRequest"),i=Object(a.b)("auth/loginSuccess"),s=Object(a.b)("auth/loginError"),l=Object(a.b)("auth/logoutRequest"),b=Object(a.b)("auth/logoutSuccess"),d=Object(a.b)("auth/logoutError"),f=Object(a.b)("auth/getCurrentUserRequest"),g=Object(a.b)("auth/getCurrentUserSuccess"),h=Object(a.b)("auth/getCurrentUserError");t.a={registerRequest:r,registerSuccess:c,registerError:o,loginRequest:u,loginSuccess:i,loginError:s,logoutRequest:l,logoutSuccess:b,logoutError:d,getCurrentUserRequest:f,getCurrentUserSuccess:g,getCurrentUserError:h}},49:function(e,t,n){e.exports=n(79)},79:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n.n(c),u=n(21),i=n.n(u),s=n(30),l=n(31),b=n(34),d=n(32),f=n(16),g=n(5),h=n(8),m=n(24),O=n(9),j=Object(h.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=Object(m.a)(e,["component","isAuthenticated"]);return o.a.createElement(g.b,Object.assign({},a,{render:function(e){return n?o.a.createElement(t,e):o.a.createElement(g.a,{to:"/login"})}}))})),p=Object(h.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=Object(m.a)(e,["component","isAuthenticated"]);return o.a.createElement(g.b,Object.assign({},a,{render:function(e){return n&&a.restricted?o.a.createElement(g.a,{to:"/contacts"}):o.a.createElement(t,e)}}))})),E={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},v=Object(h.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return o.a.createElement("nav",null,o.a.createElement(f.b,{to:"/",exact:!0,style:E.link,activeStyle:E.activeLink},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),t&&o.a.createElement(f.b,{to:"/tasks",exact:!0,style:E.link,activeStyle:E.activeLink},"Tasks"))})),y=n(33),C={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},k=Object(h.b)((function(e){return{name:O.b.getUserName(e),email:O.b.getUserEmail(e),avatar:"https://avatars3.githubusercontent.com/u/54318155?s=460&u=a7afe8757ccb766548376349fc1a483ff883dd21&v=4"}}),{onLogout:O.a.logOut})((function(e){var t=e.avatar,n=(e.name,e.email),a=e.onLogout;return o.a.createElement("div",{style:C.container},o.a.createElement("img",{src:t,alt:"",width:"32",style:C.avatar}),o.a.createElement("span",{style:C.name},"Welcome, ",n),o.a.createElement(y.a,{type:"button",onClick:a},"Logout"))})),S={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},R=function(){return o.a.createElement("div",null,o.a.createElement(f.b,{to:"/register",exact:!0,style:S.link,activeStyle:S.activeLink},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement(f.b,{to:"/login",exact:!0,style:S.link,activeStyle:S.activeLink},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"))},A={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}},q=Object(h.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return o.a.createElement("header",{style:A.header},o.a.createElement(v,null),t?o.a.createElement(k,null):o.a.createElement(R,null))})),U={container:{width:"80vw",marginLeft:"auto",marginRight:"auto",padding:"0 24px"}},x=function(e){var t=e.children;return o.a.createElement("div",{style:U.container},o.a.createElement(q,null),t)},L=[{path:"/",label:"\u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f",exact:!0,component:Object(c.lazy)((function(){return n.e(1).then(n.bind(null,89))})),private:!1,restricted:!1},{path:"/register",label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",exact:!0,component:Object(c.lazy)((function(){return n.e(4).then(n.bind(null,90))})),private:!1,restricted:!0},{path:"/login",label:"\u041b\u043e\u0433\u0438\u043d\u0438\u0437\u0430\u0446\u0438\u044f",exact:!0,component:Object(c.lazy)((function(){return n.e(2).then(n.bind(null,91))})),private:!1,restricted:!0},{path:"/contacts",label:"\u0414\u043e\u043c\u0430\u0448\u043a\u0430",exact:!0,component:Object(c.lazy)((function(){return Promise.all([n.e(7),n.e(0)]).then(n.bind(null,92))})),private:!0,restricted:!1}],w=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return o.a.createElement(f.a,null,o.a.createElement(x,null,o.a.createElement(c.Suspense,{fallback:o.a.createElement("h1",null,"Loading...")},o.a.createElement(g.d,null,L.map((function(e){return e.private?o.a.createElement(j,Object.assign({key:e.label},e)):o.a.createElement(p,Object.assign({key:e.label},e))}))))))}}]),n}(c.Component),z=Object(h.b)(null,{onGetCurrentUser:O.a.getCurrentUser})(w),B=n(2),I=n(17),W=n(46),D=n.n(W),F=n(3),G=n(48),J=n(6),N=n(10),M=Object(B.c)([],(a={},Object(F.a)(a,N.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(F.a)(a,N.a.addContactSuccess,(function(e,t){return[].concat(Object(G.a)(e),[t.payload])})),Object(F.a)(a,N.a.deleteContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),a)),P=Object(B.c)("",Object(F.a)({},N.a.onRename,(function(e,t){return t.payload}))),T=Object(B.c)(!1,(r={},Object(F.a)(r,N.a.fetchContactsRequest,(function(){return!0})),Object(F.a)(r,N.a.fetchContactsSuccess,(function(){return!1})),Object(F.a)(r,N.a.fetchContactsError,(function(){return!1})),Object(F.a)(r,N.a.addContactRequest,(function(){return!0})),Object(F.a)(r,N.a.addContactSuccess,(function(){return!1})),Object(F.a)(r,N.a.addContactError,(function(){return!1})),Object(F.a)(r,N.a.deleteContactRequest,(function(){return!0})),Object(F.a)(r,N.a.deleteContactSuccess,(function(){return!1})),Object(F.a)(r,N.a.deleteContactError,(function(){return!1})),r)),H=Object(J.c)({items:M,filter:P,loading:T}),K=n(23),Q={key:"auth",storage:D.a,whitelist:["token"]},V=Object(B.a)({reducer:{contacts:H,auth:Object(I.g)(Q,K.a)},middleware:Object(B.d)({serializableCheck:{ignoredActions:[I.a,I.f,I.b,I.c,I.d,I.e]}})}),X=Object(I.h)(V),Y=(n(78),n(47));i.a.render(o.a.createElement(h.a,{store:V},o.a.createElement(Y.a,{loading:null,persistor:X},o.a.createElement(z,null))),document.getElementById("root"))},9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(18),r=n.n(a),c=n(4);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var o=function(e){r.a.defaults.headers.common.Authorization="Bearer ".concat(e)},u=function(){r.a.defaults.headers.common.Authorization=""},i={register:function(e){return function(t){t(c.a.registerRequest()),r.a.post("/users/signup",e).then((function(e){o(e.data.token),t(c.a.registerSuccess(e.data))})).catch((function(e){return t(c.a.registerError(e))}))}},logIn:function(e){return function(t){t(c.a.loginRequest()),r.a.post("/users/login",e).then((function(e){o(e.data.token),t(c.a.loginSuccess(e.data))})).catch((function(e){return t(c.a.loginError(e))}))}},logOut:function(){return function(e){e(c.a.logoutRequest()),r.a.post("/users/logout").then((function(){u(),e(c.a.logoutSuccess())})).catch((function(e){return c.a.logoutError(e)}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(o(n),e(c.a.getCurrentUserRequest()),r.a.get("/users/current").then((function(t){var n=t.data;return e(c.a.getCurrentUserSuccess(n))})).catch((function(e){return c.a.getCurrentUserError(e)})))}}},s={isAuthenticated:function(e){return e.auth.token},getUserName:function(e){return e.auth.user.name},getUserEmail:function(e){return e.auth.user.email}};n(23)}},[[49,5,6]]]);
//# sourceMappingURL=main.6702d563.chunk.js.map